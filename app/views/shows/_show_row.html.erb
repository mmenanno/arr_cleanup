<div id="<%= dom_id(show) %>" class="group relative overflow-hidden rounded-lg bg-gradient-to-r from-purple-500/5 to-transparent border border-gray-700 hover:border-indigo-500 transition-all duration-150 shadow hover:shadow-indigo-500/20">
  <div class="flex items-center p-4 gap-4">
    <!-- Icon -->
    <div class="flex-shrink-0">
      <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-indigo-600/20 border border-indigo-500/30">
        <svg class="h-5 w-5 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125z" />
        </svg>
      </div>
    </div>

    <!-- Title and metadata -->
    <%= link_to show, data: { turbo_frame: "_top" }, class: "flex-1 min-w-0" do %>
      <div class="flex items-baseline gap-3">
        <h3 class="text-base font-semibold text-white group-hover:text-indigo-300 transition-colors truncate"><%= show.title %></h3>
        <span class="text-sm text-gray-500 flex-shrink-0"><%= show.year %></span>
        <span class="text-gray-700 flex-shrink-0">â€¢</span>
        <div class="flex items-center gap-1.5 flex-shrink-0">
          <svg class="h-3.5 w-3.5 text-purple-400" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375" />
          </svg>
          <span class="text-sm font-medium text-purple-300"><%= format_bytes(show.total_size_bytes) %></span>
        </div>
        <% if show.contains_remux %>
          <span class="inline-flex items-center rounded-md bg-red-500/20 px-2 py-0.5 text-xs font-bold text-red-300 ring-1 ring-inset ring-red-500/30 flex-shrink-0">
            REMUX
          </span>
        <% end %>
        <% if show.ignored %>
          <span class="inline-flex items-center rounded-md bg-gray-500/20 px-2 py-0.5 text-xs font-bold text-gray-400 ring-1 ring-inset ring-gray-500/30 flex-shrink-0">
            IGNORED
          </span>
        <% end %>
      </div>
    <% end %>

    <!-- Actions -->
    <div class="flex items-center gap-2 flex-shrink-0">
      <%= button_to refresh_show_path(show), method: :post, data: { turbo_stream: true }, onclick: "event.stopPropagation()", class: "inline-flex items-center gap-1.5 rounded-md bg-indigo-600/20 px-3 py-2 text-sm font-medium text-indigo-300 hover:bg-indigo-600/30 border border-indigo-500/30 hover:border-indigo-500/50 transition-all cursor-pointer" do %>
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
        </svg>
        Refresh
      <% end %>
      <% if show.ignored %>
        <%= button_to unignore_show_path(show), method: :post, data: { turbo_stream: true }, onclick: "event.stopPropagation()", class: "inline-flex items-center gap-1.5 rounded-md bg-green-600/20 px-3 py-2 text-sm font-medium text-green-300 hover:bg-green-600/30 border border-green-500/30 hover:border-green-500/50 transition-all cursor-pointer" do %>
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          Unignore
        <% end %>
      <% else %>
        <button type="button"
                onclick="event.stopPropagation()"
                data-action="click->modal#show"
                data-confirm-message="Hide this show from the list?"
                data-confirm-url="<%= ignore_show_path(show) %>"
                data-confirm-method="post"
                class="inline-flex items-center gap-1.5 rounded-md bg-gray-700/50 px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 border border-gray-600/50 hover:border-gray-600 transition-all cursor-pointer">
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88" />
          </svg>
          Ignore
        </button>
      <% end %>
      <svg class="h-5 w-5 text-gray-500 group-hover:text-indigo-400 transition-colors" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
      </svg>
    </div>
  </div>
</div>
