<div id="<%= dom_id(movie) %>" class="group relative overflow-hidden rounded-lg bg-gradient-to-r from-indigo-500/5 to-transparent border border-gray-700 hover:border-indigo-500 transition-all duration-150 shadow hover:shadow-indigo-500/20">
  <div class="flex items-center p-4 gap-4">
    <!-- Icon -->
    <div class="flex-shrink-0">
      <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-indigo-600/20 border border-indigo-500/30">
        <svg class="h-5 w-5 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5" />
        </svg>
      </div>
    </div>

    <!-- Title and metadata -->
    <%= link_to movie, data: { turbo_frame: "_top" }, class: "flex-1 min-w-0" do %>
      <div class="flex items-baseline gap-3">
        <h3 class="text-base font-semibold text-white group-hover:text-indigo-300 transition-colors truncate"><%= movie.title %></h3>
        <span class="text-sm text-gray-500 flex-shrink-0"><%= movie.year %></span>
        <span class="text-gray-700 flex-shrink-0">•</span>
        <div class="flex items-center gap-1.5 flex-shrink-0">
          <svg class="h-3.5 w-3.5 text-purple-400" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375" />
          </svg>
          <span class="text-sm font-medium text-purple-300"><%= format_bytes(movie.size_bytes) %></span>
        </div>
        <span class="text-gray-700 flex-shrink-0">•</span>
        <div class="flex items-center gap-1.5 flex-shrink-0">
          <svg class="h-3.5 w-3.5 text-green-400" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" />
          </svg>
          <span class="text-sm font-medium text-green-300"><%= movie.quality %></span>
        </div>
        <% if movie.is_remux %>
          <span class="inline-flex items-center rounded-md bg-red-500/20 px-2 py-0.5 text-xs font-bold text-red-300 ring-1 ring-inset ring-red-500/30 flex-shrink-0">
            REMUX
          </span>
        <% end %>
        <% if movie.ignored %>
          <span class="inline-flex items-center rounded-md bg-gray-500/20 px-2 py-0.5 text-xs font-bold text-gray-400 ring-1 ring-inset ring-gray-500/30 flex-shrink-0">
            IGNORED
          </span>
        <% end %>
      </div>
    <% end %>

    <!-- Actions -->
    <div class="flex items-center gap-2 flex-shrink-0">
      <%= button_to refresh_movie_path(movie), method: :post, data: { turbo_stream: true }, onclick: "event.stopPropagation()", class: "inline-flex items-center gap-1.5 rounded-md bg-indigo-600/20 px-3 py-2 text-sm font-medium text-indigo-300 hover:bg-indigo-600/30 border border-indigo-500/30 hover:border-indigo-500/50 transition-all cursor-pointer" do %>
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
        </svg>
        Refresh
      <% end %>
      <% if movie.ignored %>
        <%= button_to unignore_movie_path(movie), method: :post, data: { turbo_stream: true }, onclick: "event.stopPropagation()", class: "inline-flex items-center gap-1.5 rounded-md bg-green-600/20 px-3 py-2 text-sm font-medium text-green-300 hover:bg-green-600/30 border border-green-500/30 hover:border-green-500/50 transition-all cursor-pointer" do %>
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          Unignore
        <% end %>
      <% else %>
        <button type="button"
                onclick="event.stopPropagation()"
                data-action="click->modal#show"
                data-confirm-message="Hide this movie from the list?"
                data-confirm-url="<%= ignore_movie_path(movie) %>"
                data-confirm-method="post"
                class="inline-flex items-center gap-1.5 rounded-md bg-gray-700/50 px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 border border-gray-600/50 hover:border-gray-600 transition-all cursor-pointer">
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88" />
          </svg>
          Ignore
        </button>
      <% end %>
      <svg class="h-5 w-5 text-gray-500 group-hover:text-indigo-400 transition-colors" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
      </svg>
    </div>
  </div>
</div>
